var popup=document.querySelector(".popup"),link=document.querySelector(".main-header__link"),close=document.querySelector(".popup__button"),overlay=document.querySelector(".overlay"),login=popup.querySelector("[type=text]"),email=popup.querySelector("[type=email]"),password=popup.querySelector("[type=password]"),first_form=popup.querySelector(".form-entry"),second_form=popup.querySelector(".form-registration");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("popup-show"),overlay.classList.add("overlay-show")}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("popup-show"),popup.classList.remove("popup-error"),overlay.classList.remove("overlay-show")}),overlay.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("overlay-show"),popup.classList.remove("popup-show"),popup.classList.remove("popup-error")}),first_form.addEventListener("submit",function(e){email.value&&password.value||(e.preventDefault(),popup.classList.remove("popup-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("popup-error"))}),second_form.addEventListener("submit",function(e){login.value&&email.value&&password.value||(e.preventDefault(),popup.classList.remove("popup-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("popup-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("popup-show")&&popup.classList.remove("popup-show"),popup.classList.contains("popup-error")&&popup.classList.remove("popup-error"),overlay.classList.contains("overlay-show")&&overlay.classList.remove("overlay-show"))});